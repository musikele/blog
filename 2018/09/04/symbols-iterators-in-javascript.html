<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<script>
		var host = "michelenasti.com";
		if ((host == window.location.host) && (window.location.protocol != "https:"))
			window.location.protocol = "https";
	</script>
	
	<title>Symbols & Iterators in Javascript - Michele Nasti's blog</title>
	 
	<meta name="keywords" content="javascript, es6" />  
	<meta http-equiv="last-modified" content="2018-09-04 16:41:34 +0200" /> 
	<!--<noscript>-->
	<link rel="stylesheet" href="/css/skel.css" />
	<link rel="stylesheet" href="/css/style.css" />
	<link rel="stylesheet" href="/css/style-xlarge.css" />
	<link rel="stylesheet" href="/css/colorful.css" />
	<link rel="stylesheet" href="/css/social.css" />
	<link rel="stylesheet" href="/node_modules/animate.css/animate.min.css" />
	<meta name="google-site-verification" content="wpVjnRuXV99CAZxjYBzZgKbJm-8_tdLPrlP43u9zhV0" /> <!-- facebook Open Graph Metadatas -->
<meta content="your_facebook_app_id" property="fb:app_id">
<meta content="" property="og:site_name">


  <meta content="Symbols & Iterators in Javascript" property="og:title">



  <meta content="article" property="og:type">



  <meta content="Let's have a look at Symbols and iterators in Javascript. " property="og:description">



  <meta content="https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html" property="og:url">



  <meta content="2018-09-04T00:00:00+02:00" property="article:published_time">
  <meta content="https://www.facebook.com/micnasti/" property="article:author">



<meta content="https://michelenasti.com///images/es6.jpeg" property="og:image">



  
  <meta content="javascript" property="article:tag">
  
  <meta content="es6" property="article:tag">
  


<!-- Twitter cards metadatas -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@vdaubry">
<meta name="twitter:creator" content="@micnasti">

  <meta name="twitter:title" content="Symbols & Iterators in Javascript">


  <meta name="twitter:url" content="https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html">



  <meta name="twitter:description" content="Let's have a look at Symbols and iterators in Javascript. ">



  <meta name="twitter:image:src" content="https://michelenasti.com//images/es6.jpeg">

	<!--</noscript>-->
	<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-88764277-1', 'auto');
  ga('send', 'pageview');

</script>
	<link rel="stylesheet" href="/css/prism.css" />
	
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-9588917209740632",
        enable_page_level_ads: true
    });
</script>
</head>

<body id="top">

	<header id="header">
	<a href="#" class="image avatar"><img src="/images/michele_nasti.jpg" alt="michele nasti volto" /></a>
	<h1><strong><a href="/">Michele Nasti</a></strong><br /> Full-stack developer <br> with an eye for the web<br>
	</h1>
<a href="/chi-sono-michele-nasti/">Chi sono</a> | 
<a href="/talks-conferences/">Talks &amp; Conferences</a> | 
<a href="/archives/">Archives</a>

</header> <div id="main">
	<article>
		<header class="major">
			<h1 class="post-title"><a href="/2018/09/04/symbols-iterators-in-javascript.html">Symbols & Iterators in Javascript</a></h1>
			<p class="post-meta">Sep 4, 2018 • musikele</p>
		</header>

		<section>
			
			<p>ES6 introduced the new <code>for ... of</code> syntax to iterate a collection. Did you know? And how does it work?</p>

<pre><code class="language-javascript">const arr = ['banana', 'apple', 'orange']

for (const fruit of arr) {
  console.log(fruit)
}
// -&gt; banana
// -&gt; apple
// -&gt; orange
</code></pre>

<h3 id="how-does-it-work">How does it work</h3>

<p>What you are seeing is a syntax that iterates on an <strong>iterator</strong>, a common concept in other languages but fairly new in Javascript.</p>

<p>Basically, if an object has an <em>iterator</em> you can use the <code>for...of</code> syntax to iterate on it.</p>

<h3 id="how-do-we-create-an-iterator">How do we create an iterator?</h3>

<p>To create iterators, we must provide a new property in our object called <code>Symbol.iterator</code>. <em>…what ?</em></p>

<h2 id="what-is-a-symbol">What is a Symbol</h2>

<p>a Symbol is a javascript function that returns a value that is guaranteed to be unique.</p>

<pre><code class="language-javascript">const helloSymbol = Symbol('hello')
</code></pre>

<p>They accept names, to be easily recognized and debugged, but if you create two symbols with the same name, they are not equal:</p>

<pre><code class="language-javascript">const helloSymbol2 = Symbol('hello')
console.log(helloSymbol === helloSymbol2)
/// -&gt; false 
</code></pre>

<h3 id="why-do-we-need-symbols">Why do we <em>need</em> symbols?</h3>

<p>First, I’ve seen a similar concept in other languages, like Ruby. They are useful to define properties (or functions) that are shared across different types of objects. You could use symbols to uniquely identify properties in your maps, for example.</p>

<p>There is one symbol that has been already created by the Javascript runtime, and it’s called <code>Symbol.iterator</code>. **If an object has a property named <code>Symbol.iterator</code>, it is iterable.</p>

<h2 id="how-do-we-create-an-iterator-for-our-objects">How do we create an Iterator for our objects</h2>

<p>To create an iterator the first thing to do is to attach the property:</p>

<pre><code class="language-javascript">class Example {
  [Symbol.iterator]() {
    ...
  }
}
</code></pre>

<p>As you can see, this is a legitimate name for a property. Infact, <strong>allowed names for properties are strings and symbols</strong>.</p>

<p>The only caveat is that we have to use the square brackets to define the property name, since it is an object.</p>

<p>The iterator must return a function that returns an object, containing a <code>next()</code> function.</p>

<p>This <code>next()</code> function, in turn, returns an object with two properties, <code>value</code> (the actual element of the iteration) and <code>done</code> (set to <code>true</code> when the iteration has ended).</p>

<p>Confused?</p>

<h3 id="example">Example</h3>

<p>Do you remember the <code>Group</code> class we <a href="https://michelenasti.com/2018/09/03/some-things-you-may-not-know-about-object-oriented-javascript-es6.html">designed in the last article</a>? Basically it is a Set object with another name. It holds just one copy for every object (duplicates are not allowed) and we use a simple array to store data inside. Let’s write an iterator for it!</p>

<pre><code class="language-javascript">
const Group {
  ...
  [Symbol.iterator]() {
    // a reference of internal elements...
    const elements = this.elements;
    if (elements.length === 0) return; 
    //the index we'll use to track the next element to return
    let i=-1;
    return {
      //we return a next() function that will be called many times, 
      //once for every element in the Group 
      next() {
        i++;
        //the next function returns an object with two properties
        return {
          //in value we store the actual element we're returning 
          value: elements[i],
          // if true, the iteration stops 
          done: i === elements.length ? true : false
        }
      }
    }
  }
}

//Some tests! 
// You find the code for the Group class in the previous article ;) 
for (let value of Group.from(["a", "b", "c"])) {
  console.log(value);
}
// → a
// → b
// → c
</code></pre>

<p>….And this is how we create iterable objects in Javascript.</p>

<p>Easy, isn’t it?</p>

<p>Just to let you know, (don’t know if it’s useful..) <code>String</code> is iterable, so you can write this:</p>

<pre><code class="language-javascript">const hello = "Hello" 
for (const letter of hello) {
  console.log(letter)
}
// -&gt; H
// -&gt; e
// -&gt; l
// -&gt; l
// -&gt; o
</code></pre>

<p>See you in the next iteration!</p>
 
			
			
<ul class="share-buttons">
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html&t=" title="Share on Facebook" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html) + '&t=' + encodeURIComponent(document.title)); return false;"><img alt="Share on Facebook" src="/images/icons/Facebook.svg"></a></li>
  <li><a href="https://twitter.com/intent/tweet?source=https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html&text=Symbols & Iterators in Javascript:%20https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html&via=micnasti" target="_blank" title="Tweet" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(Symbols & Iterators in Javascript) + ':%20'  + encodeURIComponent(https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html)); return false;"><img alt="Tweet" src="/images/icons/Twitter.svg"></a></li>
  <li><a href="https://plus.google.com/share?url=https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html" target="_blank" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=' + encodeURIComponent(https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html)); return false;"><img alt="Share on Google+" src="/images/icons/Google+.svg"></a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html&title=Symbols & Iterators in Javascript&summary=&source=https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html" target="_blank" title="Share on LinkedIn" onclick="window.open('http://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html) + '&title=' +  encodeURIComponent(document.title)); return false;"><img alt="Share on LinkedIn" src="/images/icons/LinkedIn.svg"></a></li>
</ul>

			<h4>Related Posts:</h4>
<div class="articles-row">







    
    

    

    



    
    

    

    



    
    

    

    
        <div class="col-4">
        <h5><a href="/2019/06/24/typescript-why-so-complicated.html">Typescript: why so complicated?! (A list of my preferred options) <span class="label label-default">javascript</span> </a></h5>
        </div>
        
         
    



    
    

    

    



    
    

    

    



    
    

    

    



    
    

    

    



    
    

    

    



    
    

    

    



    
    

    

    



    
    

    

    
        <div class="col-4">
        <h5><a href="/2018/11/17/what-i-learned-by-writing-my-first-npm-module.html">What I learned by writing my first npm module <span class="label label-default">javascript</span> </a></h5>
        </div>
        
         
    



    
    

    

    
        <div class="col-4">
        <h5><a href="/2018/11/05/inspiring-tech-people-to-follow-nicholas-c-zakas.html">Inspiring tech people to follow: Nicholas C. Zakas <span class="label label-default">javascript</span> </a></h5>
        </div>
        
         
    



    
    

    

    
        <div class="col-4">
        <h5><a href="/2018/10/29/the-easiest-way-to-understand-javascript-generators.html">The easiest way to understand Javascript Generators <span class="label label-default">javascript</span>  <span class="label label-default">es6</span> </a></h5>
        </div>
        
        
            



    


</div>

		</section>

		<section>
			 <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    
    var disqus_config = function () {
    	//var disqus_identifier = 'https://michelenasti.com';
			//var disqus_url = '';
			var disqus_url = 'https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html';
			var disqus_identifier = 'https://michelenasti.com/2018/09/04/symbols-iterators-in-javascript.html';

    };
    
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//michele-nastis-blog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> 
		</section>

		<footer>			
			<div>
    

    <div class="6u 12u(small) excerpt" id="previousArticle">
        <header>
            <h2><a href="/2018/09/03/some-things-you-may-not-know-about-object-oriented-javascript-es6.html">Things you may not know about Object Oriented Javascript (Es6)</a></h2>
        </header>
        <section>
            <p>Hi there! Let’s try to create a simple <code>Group</code> object, very similar to the <a href="https://developer.mozilla.org/it/docs/Web/JavaScript/Reference/Global_Objects/Set">existing <code>Set</code> object</a> in Javascript. Here’s the specification for this Abstract Data Type:</p>


        </section>
        <div>
            <ul class="actions">
                <li><a href="/2018/09/03/some-things-you-may-not-know-about-object-oriented-javascript-es6.html" class="button">Read More</a></li>
            </ul>
        </div>
    </div>
     

    <div class="6u$ 12u(small) excerpt f-right" id="nextArticle">
        <header>
            <h2><a href="/2018/09/19/Javascript-chiamare-funzioni-senza-usare-parentesi-(what!).html">Javascript: call functions without using parentheses (what?!)</a></h2>
        </header>
        <section>
            <p>Let’s dig in a not-well-publicized ES6 feature: calling functions without using parentheses.</p>


        </section>
        <div>
            <ul class="actions">
                <li><a href="//2018/09/19/Javascript-chiamare-funzioni-senza-usare-parentesi-(what!).html" class="button">Read More</a></li>
            </ul>
        </div>
    </div>
    
</div>
		</footer>

	</article>

</div>
<script src="/js/infinite-scroll.js"></script>

	<!-- Footer -->
	<footer id="footer">
	<ul class="icons">

		
		<li>
			<a href="https://github.com/musikele" class="icon fa-github">
				<span class="label">GitHub</span>
			</a>
		</li>
		 
		<li>
			<a href="https://twitter.com/micnasti" class="icon fa-twitter">
				<span class="label">Twitter</span>
			</a>
		</li>
		 
		<li>
			<a href="https://linkedin.com/in/michelenasti" class="icon fa-linkedin">
				<span class="label">LinkedIn</span>
			</a>
		</li>
		 
		<li>
			<a href="https://plus.google.com/+MicheleNasti" class="icon fa-google-plus">
				<span class="label">Google+</span>
			</a>
		</li>
		 
		<li>
			<a href="https://www.facebook.com/musikele" class="icon fa-facebook">
				<span class="label">Facebook</span>
			</a>
		</li>
		  
	</ul>
	<ul class="copyright">
		<li>&copy; Michele Nasti</li>
		<li>Based on <a href="http://html5up.net/strata">STRATA</a> theme</li>
	</ul>
</footer>
	<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/jquery.poptrox.min.js"></script>
	<script src="/js/skel.min.js"></script>
	<script src="/js/init.js"></script>
	<script src="/js/prism.js"></script>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  },
  "position": "bottom-left",
  "content": {
    "href": "//www.iubenda.com/privacy-policy/84379975"
  }
})});
</script>
	<!-- <script src="/js/badge.js"></script> -->
</body>

</html>
